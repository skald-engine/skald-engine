<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="/build/lib/skald.min.js"></script>
</head>
<body>
  
  <h1>Entities with Display</h1>

  <p>This test uses static display objects on a scene (using `addStatic` and `sk.displayObjects`. It should show in the order:</p>
  <ul>
    <li>A zombie (sprite)</li>
    <li>A text (text)</li>
    <li>Three circles (graphics)</li>
    <li>Three hand symbols (bitmap font)</li>
    <li>An animated sprite (animated sprite</li>
  </ul>

  <script>
    // Configuration ----------------------------------------------------------
    sk.scene({
      name: 'base',
      initialize: function() {
        let half = game.display.halfWidth
        this.addStatic('sprite')
            .configure({
              texture: game.resources.get('sprite'),
              position: {x:half, y:100},
              anchor: {x:0.5, y:0.5},
              scale: {x:0.4, y:0.4}
            })

        this.addStatic('text')
            .configure({
              text: 'The little Zombie',
              position: {x:half, y:170},
              anchor: {x:0.5, y:0.5}
            })

        this.addStatic('graphics')
            .configure({
              position: {x:half, y:210}
            })
            .beginFill(0xFFFFFF)
            .drawCircle(0, 0, 10)
            .drawCircle(-40, 0, 5)
            .drawCircle(40, 0, 5)
            .endFill()

        this.addStatic('bitmapText')
            .configure({
              text: 'ABC', 
              position: {x:half, y:260},
              anchor: {x:0.5, y:0.5},
              font: 'wing'
            })

        this.animated = this.addStatic('animatedSprite')
            .configure({
              spriteSheet: game.resources.get('samurai'),
              position: {x:half, y:360},
              anchor: {x:0.5, y:0.5},
              scale: {x:0.4, y:0.4}
            })
      },

      update: function(delta) {
        this.animated.update(delta)
      }
    })

    // Game initialization ----------------------------------------------------
    const config = {
      resources: {basePath: '../../assets/'},
      display: {width: 300, height: 450},
      logger: {level: 'trace'}
    }
    const manifest = [
      {id: 'sprite', type: 'texture', url: 'textures/zombie.png'},
      {id: 'wing', type: 'bitmapFont', url: 'bitmapfonts/wing.xml'},
      {id: 'samurai', type: 'spriteSheet', url: 'spritesheets/samurai_idle.json'},
    ]
    let game = new sk.Game(config, manifest)

    // Starting ---------------------------------------------------------------
    game.addEventListener('resources.complete', () => {
      game.scenes.play('base')
    })

  </script>

</body>
</html>