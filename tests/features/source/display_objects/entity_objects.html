<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="/build/lib/skald.min.js"></script>
</head>
<body>
  
  <h1>Entity Objects</h1>

  <p>This test uses entities in scenes. It should show in the order:</p>
  <ul>
    <li>A zombie (sprite)</li>
    <li>A text (text)</li>
    <li>Three circles (graphics)</li>
    <li>Three hand symbols (bitmap font)</li>
    <li>An animated sprite (animated sprite</li>
  </ul>

  <script>
    // Configuration ----------------------------------------------------------
    const Sprite = sk.entity({
      initialize: function() {
        this.display = new sk.display.Sprite()
        this.display.configure({
          texture: game.resources.get('sprite'),
          position: {x:game.display.halfWidth, y:100},
          anchor: {x:0.5, y:0.5},
          scale: {x:0.4, y:0.4}
        })
      }
    })

    const Text = sk.entity({
      initialize: function() {
        this.display = new sk.display.Text()
        this.display.configure({
          text: 'The little Zombie',
          position: {x:game.display.halfWidth, y:170},
          anchor: {x:0.5, y:0.5}
        })
      }
    })

    const Graphics = sk.entity({
      initialize: function() {
        this.display = new sk.display.Graphics()
        this.display
            .configure({
              position: {x:game.display.halfWidth, y:210}
            })
            .beginFill(0xFFFFFF)
            .drawCircle(0, 0, 10)
            .drawCircle(-40, 0, 5)
            .drawCircle(40, 0, 5)
            .endFill()

      }
    })

    const BitmapText = sk.entity({
      initialize: function() {
        this.display = new sk.display.BitmapText()
        this.display.configure({
          text: 'ABC', 
          position: {x:game.display.halfWidth, y:260},
          anchor: {x:0.5, y:0.5},
          font: 'wing'
        })
      }
    })
    
    const AnimatedSprite = sk.entity({
      initialize: function() {
        this.display = new sk.display.AnimatedSprite()
        this.display.configure({
          spriteSheet: game.resources.get('samurai'),
          position: {x:game.display.halfWidth, y:360},
          anchor: {x:0.5, y:0.5},
          scale: {x:0.4, y:0.4}
        })
      }
    })


    const BaseScene = sk.scene({
      initialize: function() {
        this.addEntity(new Sprite())
        this.addEntity(new Text())
        this.addEntity(new Graphics())
        this.addEntity(new BitmapText())
        this.animated = this.addEntity(new AnimatedSprite())
      },

      update: function(delta) {
        this.animated.display.update(delta)
      }
    })

    // Game initialization ----------------------------------------------------
    let game = new sk.Game({
      resources: {basePath: '../../assets/'},
      display: {width: 300, height: 450},
      logger: {level: 'trace'},
      manifest: [
        {id: 'sprite', type: 'texture', url: 'textures/zombie.png'},
        {id: 'wing', type: 'bitmapFont', url: 'bitmapfonts/wing.xml'},
        {id: 'samurai', type: 'spriteSheet', url: 'spritesheets/samurai_idle.json'},
      ]
    }, BaseScene)

  </script>

</body>
</html>