<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="/build/lib/skald.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.1/svg.min.js"></script>
  <style>
    .item {
      position: relative;
      display: inline-block;
    }

    .item p {
      margin: 0;
      position: absolute;
      background-color: rgba(255, 255, 255, 0.8);
    }

  </style>
</head>
<body>
  
  <h1>Easings</h1>

  <div id="container_easing"></div>

  <h2>Modifiers</h2>
  <div id="container_modifiers"></div>
  
  <script>
    // const e = sk.utils.easings
    let easings = [
      ['linear'],
      ['sineIn', 'sineOut', 'sineInOut', 'quadIn', 'quadOut', 'quadInOut'],
      ['cubicIn', 'cubicOut', 'cubicInOut', 'quartIn', 'quartOut', 'quartInOut'],
      ['quintIn', 'quintOut', 'quintInOut', 'expoIn', 'expoOut', 'expoInOut'],
      ['circIn', 'circOut', 'circInOut', 'backIn', 'backOut', 'backInOut'],
      ['elasticIn', 'elasticOut', 'elasticInOut', 'bounceIn', 'bounceOut', 'bounceInOut'],
      ['bellGaussian', 'bellThin', 'bellFat', 'gaussian'],
    ]
    let modifiers = [
      [
        {name:'mirror(sineIn)', f:sk.utils.easing.modifiers.mirror(sk.utils.easing.sineIn)},
        {name:'mirror(sineInOut)', f:sk.utils.easing.modifiers.mirror(sk.utils.easing.sineInOut)},
        {name:'mirror(elasticInOut)', f:sk.utils.easing.modifiers.mirror(sk.utils.easing.elasticInOut)},
        {name:'mirror(bellFat)', f:sk.utils.easing.modifiers.mirror(sk.utils.easing.bellFat)},
        {name:'mirror(gaussian)', f:sk.utils.easing.modifiers.mirror(sk.utils.easing.gaussian)}
      ],
      [
        {name:'repeat(circIn, 2)', f:sk.utils.easing.modifiers.repeat(sk.utils.easing.circIn, 2)},
        {name:'repeat(quadInOut, 3)', f:sk.utils.easing.modifiers.repeat(sk.utils.easing.quadInOut, 3)},
        {name:'repeat(bounceInOut, 4)', f:sk.utils.easing.modifiers.repeat(sk.utils.easing.bounceInOut, 4)},
        {name:'repeat(elasticIn, 5)', f:sk.utils.easing.modifiers.repeat(sk.utils.easing.elasticIn, 5)},
        {name:'repeat(gaussian, 6)', f:sk.utils.easing.modifiers.repeat(sk.utils.easing.gaussian, 6)}
      ]
    ]

    function create(id, f) {
      const W = 125
      const H = 110
      const PW = 5 // padding
      const PH = 25 // padding
      const w = W-PW
      const h = H-PH
      const areaW = w-PW
      const areaH = h-PH
      const POINTS = 1000

      const BORDER_STROKE = {color:'#333333', width:.2}
      const PATH_STROKE = {color:'#333333', width:2}

      var draw = SVG(id)
      draw.attr('width', W)
      draw.attr('height', H)
      draw.attr('viewbox', '0 0 ' + W + ' ' + H)


      let path = `M${PW} ${h}`

      for (let i=0; i<POINTS; i++) {
        let p = i/POINTS

        let x = PW + (p===0?0:areaW*p)
        let y = h - areaH*f(p)

        path += ` L${x} ${y}`
      }

      draw
        .path(path)
        .fill('none')
        .stroke(PATH_STROKE)

      draw
        .line(PW, PH, w, PH)
        .stroke(BORDER_STROKE)
        
      draw
        .line(PW, h, w, h)
        .stroke(BORDER_STROKE)
    }

    let parent = document.getElementById('container_easing')
    for (let i=0; i<easings.length; i++) {
      let row = document.createElement('div')
      parent.appendChild(row)

      for (let j=0; j<easings[i].length; j++) {
        let name = easings[i][j]
        let div = document.createElement('div')
        div.setAttribute('id', 'item_'+name)
        div.setAttribute('class', 'item')
        div.innerHTML = '<p>'+name+'</p>'
        row.appendChild(div)

        const f = sk.utils.easing[name]
        create('item_'+name, f)
      }
    }

    parent = document.getElementById('container_modifiers')
    for (let i=0; i<modifiers.length; i++) {
      let row = document.createElement('div')
      parent.appendChild(row)

      for (let j=0; j<modifiers[i].length; j++) {
        let o = modifiers[i][j]
        let div = document.createElement('div')
        div.setAttribute('id', 'item_'+o.name)
        div.setAttribute('class', 'item')
        div.innerHTML = '<p>'+o.name+'</p>'
        row.appendChild(div)

        create('item_'+o.name, o.f)
      }
    }

  </script>

</body>
</html>