<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="/build/lib/skald.min.js"></script>
</head>
<body>
  
  <h1>Transitions</h1>

  <p>
    <button onclick="play(new T.FadeIn(R_DURATION(), R_EASE()))">FadeIn</button>
    <button onclick="play(new T.FadeOut(R_DURATION(), R_EASE()))">FadeOut</button>
    <button onclick="play(new T.FadeInOut(R_DURATION(), R_EASE()))">FadeInOut</button>
    <button onclick="play(new T.ZoomIn(R_DURATION(), R_EASE()))">ZoomIn</button>
    <button onclick="play(new T.ZoomOut(R_DURATION(), R_EASE()))">ZoomOut</button>
    <button onclick="play(new T.ZoomInOut(R_DURATION(), R_EASE()))">ZoomInOut</button>
    <button onclick="play(new T.Scroll(R_DIR(), R_DURATION(), R_EASE()))">Scroll</button>
    <button onclick="play(new T.MoveIn(R_DIR(), R_DURATION(), R_EASE()))">MoveIn</button>
    <button onclick="play(new T.MoveOut(R_DIR(), R_DURATION(), R_EASE()))">MoveOut</button>
  </p>

  <script>
    // Setup generators and buttons -------------------------------------------
    const E = sk.utils.easing
    const T = sk.transitions
    const R_INT = n => Math.floor(Math.random()*n)
    const R_DURATION = () => R_INT(1500)+300
    const R_DIR = () => sk.DIRECTION.values()[R_INT(8)]
    const R_EASE = () => [E.backIn, E.backOut, E.backInOut, E.bounceIn, E.bounceOut, E.bounceInOut, E.circIn, E.circOut, E.circInOut, E.elasticIn, E.elasticOut, E.elasticInOut, E.quardIn, E.quardOut, E.quardInOut, E.sineIn, E.sineOut, E.sineInOut, E.linear][R_INT(19)]
    const play = t => game.scenes.play('base', t)


    // Configuration ----------------------------------------------------------
    sk.scene({
      name: 'base',
      initialize: function() {
        let displayObject = new sk.display.Graphics()
        displayObject
          .beginFill(Math.round(Math.random()*0xFFFFFF))
          .drawRect(0, 0, 400, 400)
          .endFill()
          .beginFill(Math.round(Math.random()*0xFFFFFF))
          .drawCircle(game.display.width/2, game.display.height/2, 100)
          .endFill()

        this.addStatic(displayObject)
      },
    })

    // Game initialization ----------------------------------------------------
    let game = new sk.Game({
      startScene: 'base',
      display: {width: 400, height: 400, backgroundColor: '#000000'},
      logger: {level: 'trace'},
    })
  </script>

</body>
</html>